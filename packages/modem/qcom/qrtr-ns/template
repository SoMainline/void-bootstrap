# Template file for 'qrtr-ns'
_githash=9dc7a88548c27983e06465d3fbba2ba27d4bc050 # tip of master branch as of 2021-05-30
_gitshort=${_githash:0:7}
_gitrev=93

pkgname=qrtr-ns
version=1.0r${_gitrev}
revision=1
build_style=gnu-makefile
make_install_args="prefix=/usr"
short_desc="Userspace reference for net/qrtr in the Linux kernel [git ${_gitshort}]"
maintainer="Jami Kettunen <jami.kettunen@protonmail.com>"
license="BSD-3-Clause"
homepage="https://github.com/andersson/qrtr"
distfiles="https://github.com/andersson/qrtr/archive/${_githash}.tar.gz>qrtr-${_gitshort}.tar.gz"
wrksrc="qrtr-${_githash}"
checksum=756ac22024207ec21b6bf034fba97b82b80adb859c626ac84213850fe5e136dd

post_install() {
	rm -rf $DESTDIR/usr/lib/systemd/
	vsv $pkgname
	vlicense LICENSE
}

qrtr-ns-devel_package() {
	depends="$makedepends $sourcepkg-${version}_$revision"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.so"
	}
}
